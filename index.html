<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>N26 Demo Bank</title>

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:#f4f6fb;
}
.hidden{display:none}
.card{
  background:#fff;
  border-radius:12px;
  padding:15px;
  margin-bottom:15px;
  box-shadow:0 4px 15px rgba(0,0,0,.1)
}
button{
  background:#0052cc;
  color:#fff;
  border:none;
  padding:10px 15px;
  border-radius:8px;
  cursor:pointer;
  width:100%
}
input,select{
  width:100%;
  padding:10px;
  margin:6px 0;
  border-radius:8px;
  border:1px solid #ccc
}
.sidebar{
  position:fixed;
  top:0;left:0;
  width:220px;
  height:100%;
  background:#002d72;
  color:#fff;
  padding:15px;
  transform:translateX(-100%);
  transition:.3s
}
.sidebar.show{transform:translateX(0)}
.sidebar a{
  display:block;
  color:#fff;
  padding:10px;
  text-decoration:none
}
.header{
  background:#002d72;
  color:#fff;
  padding:12px;
  display:flex;
  justify-content:space-between;
  align-items:center
}
.content{
  padding:15px
}
.small{font-size:13px;color:#666}
</style>
</head>

<body>

<!-- LOGIN -->
<div id="login" class="content">
  <div class="card">
    <h2>üîê Login</h2>
    <input id="luser" placeholder="Username">
    <input id="lpass" type="password" placeholder="Password">
    <button onclick="login()">Login</button>
  </div>
</div>

<!-- SIDEBAR -->
<div id="sidebar" class="sidebar">
  <a onclick="showPage('dashboard')">Dashboard</a>
  <a onclick="showPage('kyc')">KYC</a>
  <a onclick="showPage('history')">History</a>
  <a id="adminLink" onclick="showPage('admin')">Admin Panel</a>
  <a onclick="logout()">Logout</a>
</div>

<!-- HEADER -->
<div id="header" class="header hidden">
  <span onclick="toggle()">‚ò∞</span>
  <span id="who"></span>
</div>

<!-- DASHBOARD -->
<div id="dashboard" class="content hidden">
  <div class="card">
    <h3>Balance</h3>
    <h1 id="balance">$0.00</h1>
  </div>

  <div class="card">
    <h3>Deposit / Withdraw</h3>
    <input id="amt" type="number" placeholder="Amount">
    <button onclick="deposit()">Deposit</button><br><br>
    <button onclick="withdraw()">Withdraw</button>
  </div>
</div>

<!-- KYC -->
<div id="kyc" class="content hidden">
  <div class="card">
    <h3>KYC Verification</h3>
    <input id="fname" placeholder="Full Name">
    <input type="file" id="passport">
    <button onclick="saveKYC()">Submit</button>
  </div>
</div>

<!-- HISTORY -->
<div id="history" class="content hidden">
  <div class="card">
    <h3>Transactions</h3>
    <div id="txs"></div>
  </div>
</div>

<!-- ADMIN -->
<div id="admin" class="content hidden">
  <div class="card">
    <h3>Create User</h3>
    <input id="nu" placeholder="Username">
    <input id="np" placeholder="Password">
    <button onclick="createUser()">Create</button>
  </div>
  <div class="card">
    <h3>All Users</h3>
    <div id="users"></div>
  </div>
</div>

<script>
let users=JSON.parse(localStorage.users||'{}');
if(!users.admin){
 users.admin={password:'admin123',role:'admin',balance:0};
 localStorage.users=JSON.stringify(users)
}

function login(){
 let u=luser.value,p=lpass.value;
 if(users[u] && users[u].password==p){
  localStorage.currentUser=u;
  start();
 } else alert("Invalid login");
}

function start(){
 login.classList.add('hidden');
 header.classList.remove('hidden');
 dashboard.classList.remove('hidden');
 who.innerText=localStorage.currentUser;
 if(users[localStorage.currentUser].role!=='admin')
  adminLink.style.display='none';
 update();
}

function toggle(){sidebar.classList.toggle('show')}
function showPage(p){
 document.querySelectorAll('.content').forEach(d=>d.classList.add('hidden'));
 document.getElementById(p).classList.remove('hidden');
 sidebar.classList.remove('show');
 if(p=='admin')loadUsers();
 if(p=='history')loadTx();
}

function logout(){localStorage.removeItem('currentUser');location.reload()}

function deposit(){
 let u=users[localStorage.currentUser];
 u.balance+=Number(amt.value);
 saveTx("Deposit",amt.value);
 save();
}

function withdraw(){
 let u=users[localStorage.currentUser];
 if(u.balance<amt.value)return alert("Low balance");
 u.balance-=Number(amt.value);
 saveTx("Withdraw",amt.value);
 save();
}

function save(){localStorage.users=JSON.stringify(users);update()}
function update(){balance.innerText="$"+users[localStorage.currentUser].balance}

function saveTx(t,a){
 let tx=JSON.parse(localStorage.tx||'[]');
 tx.push({u:localStorage.currentUser,t,a,d:new Date().toLocaleString()});
 localStorage.tx=JSON.stringify(tx);
}

function loadTx(){
 let tx=JSON.parse(localStorage.tx||'[]');
 txs.innerHTML=tx.filter(x=>x.u==localStorage.currentUser)
 .map(x=>`<p>${x.t}: $${x.a} <br><span class=small>${x.d}</span></p>`).join('');
}

function saveKYC(){alert("KYC Saved (Demo)")}

function createUser(){
 users[nu.value]={password:np.value,role:'user',balance:0};
 save();loadUsers();
}

function loadUsers(){
 usersDiv=users;
 users.innerHTML=Object.keys(usersDiv)
 .map(u=>`<p>${u} - $${usersDiv[u].balance}</p>`).join('');
}

if(localStorage.currentUser)start();
</script>

</body>
  </html>
